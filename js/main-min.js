jQuery.fn.exists=function(){return $(this).length},gsap.registerPlugin(ScrollTrigger);const projectFunc={showElem:function(e){setTimeout(()=>{e.classList.add("mf-show")},500)},getScrollbarWidth:function(){let e,t=projectFunc.getScrollbarWidth.width;return void 0===t&&((e=document.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,document.body.appendChild(e),t=projectFunc.getScrollbarWidth.width=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),t}};if(document.addEventListener("DOMContentLoaded",()=>{$(".js-btn-header").exists()&&$(window).on("resize load",function(){const e=document.querySelector(".js-btn-header span"),t=document.querySelector(".js-btn-header");$(this).width()<=1100?(e.textContent="Рассчитать",projectFunc.showElem(t)):e.textContent="Рассчитать заказ"}),window.addEventListener("load",()=>{document.querySelector("html").style.setProperty("--wScroll",projectFunc.getScrollbarWidth()+"px")})}),$("#ds_form").exists())try{let e="";(e=document.getElementById("ds_form")).onchange=(()=>{let t=JSON.stringify(Array.from(new FormData(e)));localStorage.setItem(e.id,t)}),document.addEventListener("DOMContentLoaded",()=>{let t=JSON.parse(localStorage.getItem(e.id));for(let o=0;o<t.length;++o){let s=e[t[o][0]];"checkbox"===s.type?s.setAttribute("checked","checked"):s.value=t[o][1]}})}catch(e){console.log(e)}$(function(){if($(".js-slider-comment").exists())try{let e=new Slider(!0,".js-slider-comment","auto",0,!0,!0,!0);e.createSlider(),e.updateSlider("center",!0),e.updateSlider("initialSlide",2),e.updateSlider("slideActiveClass","swiper-slide-active"),e.updateSlider("autoHeight",!0)}catch(e){console.log(e)}if($(".js-slider-thumbs").exists())try{var e=new Swiper(".js-slider-card",{spaceBetween:10,loop:!0,loopedSlides:3,speed:400,pagination:{el:".pagination",clickable:!0}}),t=new Swiper(".js-slider-thumbs",{spaceBetween:10,slidesPerView:3,touchRatio:.2,slideToClickedSlide:!0,loop:!0,loopedSlides:3,speed:400,direction:"vertical",navigation:{nextEl:".arrow__link--next",prevEl:".arrow__link--prev"}});e.controller.control=t,t.controller.control=e,setTimeout(()=>{$(".js-slider-thumbs").css("opacity",1)},600),setTimeout(()=>{$(".js-slider-card").css("opacity",1)},600)}catch(e){console.log(e)}if($(".js-lg-view").exists())try{$(".js-lg-view").lightGallery()}catch(e){console.log(e)}if($(".js-slider-examples").exists())try{let e=new Slider(!0,".js-slider-examples",4,50,1,!0,!0,!0,"auto",!1,!1,"horizontal");e.createSlider(),e.updateSlider("group",4),$(window).on("resize load",function(){$(this).width()<=1235&&$(this).width()>1024?(e.updateSlider("space",20),e.updateSlider("view",4)):$(this).width()<=1024&&$(this).width()>500?(e.updateSlider("view",3),e.updateSlider("space",20),e.updateSlider("group",3)):$(this).width()<=500&&$(this).width()>300?(e.updateSlider("view",2),e.updateSlider("space",15),e.updateSlider("group",2)):(e.updateSlider("view",4),e.updateSlider("space",50),e.updateSlider("group",4))})}catch(e){console.log(e)}if($(".accordion__panel").exists())try{const e=document.getElementsByClassName("accordion__panel");for(var o=0;o<e.length;o++)e[o].onclick=function(){this.classList.toggle("is-open"),$(this).find(".accordion__pic").toggleClass("accordion__pic--active");const e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}}catch(e){console.log(e)}if($("#map").exists())try{ymaps.ready(function(){var e=new ymaps.Map("map",{center:[53.430367,59.081055],zoom:16,controls:[]});ymaps.geocode([53.430367,59.081055]).then(function(t){var o=t.geoObjects.get(0).geometry.getCoordinates(),s=new ymaps.Placemark(o,{balloonContentHeader:"",balloonContentBody:'<div class="balloon"><div class="balloon__bloc"><div class="balloon__header">Адрес</div><div class="balloon__text">г. Магнитогорск, ул. Электросети, д. 38 </div></div><div class="balloon__bloc"><div class="balloon__header">Телефон</div><a href="tel:8(800)562-58-58" class="balloon__text">8 (800) 562-58-58</a></div><div class="balloon__bloc"><div class="balloon__header">График работы</div><div class="balloon__text">Пн - Пт | 9:00 - 19:00, Сб - Вс | 10:00 - 18:00</div></div><div>',balloonContentFooter:"",preset:"islands#blackStretchyIcon",minWidth:455},{iconLayout:"default#image",iconImageHref:"/image/icon/marker.svg",iconImageSize:[62,80],hideIcon:!1,hideIconOnBalloonOpen:!1,zIndex:5e3,zIndexActive:5e3});e.behaviors.disable("scrollZoom"),e.geoObjects.add(s),e.setCenter(o,16)})})}catch(e){console.log(e)}if($("#input-file").exists())try{let e=document.querySelector("#input-file"),t=document.querySelector("#file");e.addEventListener("click",function(){$(t).click()})}catch(e){console.log(e)}if($(".js-grace").exists())try{const e=document.querySelector(".js-grace"),t=document.querySelector(".overlay");e.addEventListener("click",function(){t.classList.add("overlay__show"),$("html").css("overflow","hidden"),$("html, body").animate({scrollTop:0},1e3,()=>{document.querySelector(".popup-grace").classList.add("popup-show")})})}catch(e){console.log(e)}if($(".popup-grace__close").exists())try{$(".popup-grace__close").on("click",function(){document.querySelector(".popup-grace").classList.remove("popup-show"),$(".overlay").removeClass("overlay__show"),$("html").css("overflow","auto")})}catch(e){console.log(e)}if($(".js-modal-close").exists())try{$(".js-modal-close").on("click",function(){document.querySelector(".popup-grace").classList.remove("popup-show"),$(".overlay").removeClass("overlay__show"),$("html").css("overflow","auto")})}catch(e){console.log(e)}if($(".js-modal-order").exists())try{const e=document.querySelectorAll(".js-modal-order"),t=document.querySelector(".overlay");for(let o=0;o<e.length;o++)e[o].addEventListener("click",function(){t.classList.add("overlay__show"),document.querySelector(".popup-order").classList.add("popup-show"),$("html").css("overflow","hidden")})}catch(e){console.log(e)}if($(".popup-order__close").exists())try{$(".popup-order__close").on("click",function(){document.querySelector(".popup-order").classList.remove("popup-show"),$(".overlay").removeClass("overlay__show"),$("html").css("overflow","auto")})}catch(e){console.log(e)}if($(".overlay").exists())try{$(".overlay").click(function(e){if(-1!=e.target.className.indexOf("overlay")){const e=document.querySelector(".popup-grace"),t=document.querySelector(".popup-order");e.classList.remove("popup-show"),t.classList.remove("popup-show"),$(this).removeClass("overlay__show"),window.onscroll=function(){},$("html").css("overflow","auto")}})}catch(e){console.log(e)}if($(".header__inner").exists)try{let e=$(window),t=$(".header__inner"),o=t.offset().top;e.on("scroll",function(){(window.pageYOffset||document.documentElement.scrollTop)>o?t.addClass("mf-scroll"):(t.removeClass("mf-scroll"),t.removeClass("locked"))})}catch(e){console.log(e)}function s(e,t){if(e.length>0){let o=document.querySelectorAll(e);for(let e=0;e<o.length;e++)i(o[e],t)}}function i(e,t){let o=e.textContent;var s=o.slice(0,t);s.length<o.length&&(s+="..."),e.textContent=s}if($(window).on("resize load",function(){if($(this).width()<=1024&&$(this).width()>500){if($(".advantage__cover").exists())try{Scrollbar.init(document.querySelector("#inner-scrollbar"),{damping:.3,alwaysShowTracks:!1})}catch(e){console.log(e)}}else $(this).width()<=500&&Scrollbar.destroy(document.querySelector("#inner-scrollbar"))}),s(".popup-order__text",40),$(window).on("resize load",function(){$(this).width()<=620?s(".portfolio__txt",50):s(".portfolio__txt",300)}),$(window).on("load",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),$(window).on("load resize",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),$(".js-burger").exists())try{const e=document.querySelector(".js-burger"),t=document.querySelector(".header__bottom");e.onclick=function(){this.classList.toggle("burger--active"),t.classList.toggle("menu-show"),document.querySelector(".burger").classList.contains("burger--active")?$("html").css("overflow","hidden"):$("html").css("overflow","auto")}}catch(e){console.log(e)}if($(".js-btn-category").exists())try{const e=document.querySelector(".js-btn-category"),t=document.querySelector(".category__left");e.onclick=function(){t.classList.toggle("active")};const o=document.querySelector(".category__form");document.addEventListener("click",function(s){if(s.target===o||o.contains(s.target)||s.target===e)return;t.classList.remove("active")})}catch(e){console.log(e)}if($(".js-mask-phone").exists())try{$(".js-mask-phone").each(function(){$(this).mask("+7(999) 999-9999")})}catch(e){console.log(e)}if($("#ourwork").exists())try{$('a[href^="#"]').each(function(){$(this).on("click",function(){var e=$(this).attr("href");return void 0!==e&&""!==e&&$("html").animate({scrollTop:$(e).offset().top-130},{duration:1e3,easing:"linear"}),!1})})}catch(e){console.log(e)}if($(".category__info").exists())try{s(".category__info",102)}catch(e){console.log(e)}});class Slider{constructor(e,t,o,s,i,l,r=!1,c=!1,a="",n=!1,d=!0,h="horizontal"){this.init=e,this.name=t,this.view=o,this.space=s,this.column=i,this.ratio=l,this.pagination=r,this.arrow=c,this.slider="",this.effect=a,this.custom=n,this.loop=d,this.direction=h}createSlider(){if(this.pagination||this.arrow){let e=$(this.name).find(".pagination"),t=$(this.name).find(".arrow__link--next"),o=$(this.name).find(".arrow__link--prev"),s={slidesPerView:this.view,spaceBetween:this.space,slidesPerColumn:this.column,slidesPerColumnFill:"row",touchRatio:this.ratio,effect:this.effect,navigation:{nextEl:t,prevEl:o},pagination:{el:e,type:"custom",renderCustom:function(e,t,o){return`${("0"+(t||0)).slice(-2)} / ${("0"+o).slice(-2)}`}}};!0===this.custom?(console.log(this.custom),this.slider=new Swiper(this.name,s)):(this.slider=new Swiper(this.name,{slidesPerView:this.view,spaceBetween:this.space,slidesPerColumn:this.column,slidesPerColumnFill:"row",touchRatio:this.ratio,effect:this.effect,fade:{crossFade:!0},loop:this.loop,direction:this.direction,pagination:{el:e,clickable:!0},navigation:{nextEl:t,prevEl:o}}),setTimeout(()=>{$(this.name).css("opacity",1)},600))}else this.slider=new Swiper(this.name,{slidesPerView:this.view,spaceBetween:this.space,slidesPerColumn:this.column,slidesPerColumnFill:"row",touchRatio:this.ratio});return this.slider}updateSlider(e,t=""){switch(e){case"space":this.slider.params.spaceBetween=t,this.slider.update();break;case"view":this.slider.params.slidesPerView=t,this.slider.update();break;case"center":this.slider.params.centeredSlides=t,this.slider.update();break;case"initialSlide":this.slider.params.initialSlide=t,this.slider.update();break;case"slideActiveClass":this.slider.params.slideActiveClass=t,this.slider.update();break;case"autoHeight":this.slider.params.autoHeight=t,this.slider.update();break;case"slideToClickedSlide":this.slider.params.slideToClickedSlide=t,this.slider.update();break;case"controller":this.slider.params.controller=t,this.slider.update(),console.log(this.slider.params.controller);break;case"loop":this.slider.params.loop=!1,this.slider.update();break;case"group":this.slider.params.slidesPerGroup=t,this.slider.params.speed=1e3,this.slider.update();break;case"skip":this.slider.params.slidesPerGroupSkip=t,this.slider.update();break;case"autoHeight":this.slider.params.autoHeight=t,this.slider.update()}}}